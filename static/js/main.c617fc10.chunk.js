(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var c=n(1),i=n(0),a=n.n(i),o=n(8),r=n.n(o),s=(n(29),n(7)),h=n(9),l=n(10),d=n(14),u=n(13),f=(n(30),n(6)),p=n.n(f),v=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var c;return Object(h.a)(this,n),(c=e.call(this,t)).state={color:["","blue","red","green","orange","yellow","white","grey","cyan","pink","brown","purple","lawngreen","darkmagenta","khaki"],size:{sm:50,md:60,lg:100}},c}return Object(l.a)(n,[{key:"constructSVG",value:function(t){var e=this.state,n=e.color,i=e.size,a=this.props,o=a.n,r=a.direction,s=a.endpointDirection,h=a.isEndpoint;if(0!==o){var l=[],d=i[t];switch(h&&l.push(Object(c.jsx)("circle",{cx:"".concat(d/2),cy:"".concat(d/2),fill:"".concat(n[o]),r:"".concat(d/2-d/10)})),s){case 0:l.push(Object(c.jsx)("rect",{width:"".concat(2*d/5),height:"".concat(d/2),x:"".concat(3*d/10),y:"0",fill:"".concat(n[o])}));break;case 1:l.push(Object(c.jsx)("rect",{width:"".concat(d/2),height:"".concat(2*d/5),x:"".concat(d/2),y:"".concat(3*d/10),fill:"".concat(n[o])}));break;case 2:l.push(Object(c.jsx)("rect",{width:"".concat(2*d/5),height:"".concat(d/2),x:"".concat(3*d/10),y:"".concat(d/2),fill:"".concat(n[o])}));break;case 3:l.push(Object(c.jsx)("rect",{width:"".concat(d/2),height:"".concat(2*d/5),x:"0",y:"".concat(3*d/10),fill:"".concat(n[o])}))}switch(r){case 0:l.push(Object(c.jsx)("rect",{x:"0",y:"".concat(3*d/10),width:"".concat(d),height:"".concat(2*d/5),fill:"".concat(n[o])}));break;case 1:l.push(Object(c.jsx)("rect",{x:"".concat(3*d/10),y:"0",width:"".concat(2*d/5),height:"".concat(d),fill:"".concat(n[o])}));break;case 2:l.push(Object(c.jsx)("rect",{x:"".concat(3*d/10),y:"0",width:"".concat(2*d/5),height:"".concat(7*d/10),fill:"".concat(n[o])})),l.push(Object(c.jsx)("rect",{x:"0",y:"".concat(3*d/10),width:"".concat(d/2),height:"".concat(2*d/5),fill:"".concat(n[o])}));break;case 3:l.push(Object(c.jsx)("rect",{x:"".concat(3*d/10),y:"".concat(3*d/10),width:"".concat(7*d/10),height:"".concat(4*d/10),fill:"".concat(n[o])})),l.push(Object(c.jsx)("rect",{x:"".concat(3*d/10),y:"0",width:"".concat(2*d/5),height:"".concat(4*d/10),fill:"".concat(n[o])}));break;case 4:l.push(Object(c.jsx)("rect",{x:"".concat(3*d/10),y:"".concat(3*d/10),width:"".concat(4*d/10),height:"".concat(7*d/10),fill:"".concat(n[o])})),l.push(Object(c.jsx)("rect",{x:"0",y:"".concat(3*d/10),width:"".concat(4*d/10),height:"".concat(2*d/5),fill:"".concat(n[o])}));break;case 5:l.push(Object(c.jsx)("rect",{x:"".concat(3*d/10),y:"".concat(3*d/10),width:"".concat(7*d/10),height:"".concat(4*d/10),fill:"".concat(n[o])})),l.push(Object(c.jsx)("rect",{x:"".concat(3*d/10),y:"".concat(3*d/10),width:"".concat(4*d/10),height:"".concat(7*d/10),fill:"".concat(n[o])}))}return l}}},{key:"render",value:function(){var t=this.props,e=t.size,n=t.row,i=t.col,a=t.onClick,o=t.gridFade,r=t.animationTime,s="grid";""!==o&&(s="");var h={};void 0!==r&&(h={animation:"fadein 1s ease-in",animationDelay:r});var l=e<9?"lg":e<12?"md":"sm";return Object(c.jsx)("div",{className:"node ".concat(l," ").concat(o," ").concat(s),onClick:function(){return a(n,i)},children:Object(c.jsx)("svg",{style:h,children:this.constructSVG(l)})})}}]),n}(i.Component),j=(n(31),n(40)),b=n(42),g=n(41),k=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var c;return Object(h.a)(this,n),(c=e.call(this,t)).state={nodes:[],length:5,size:"lg",navButtons:[],endpointStack:[15,15,14,14,13,13,12,12,11,11,10,10,9,9,8,8,7,7,6,6,5,5,4,4,3,3,2,2,1,1],maxEndpoint:30,alert:void 0,disabled:!1,diff:[[-1,0],[0,1],[1,0],[0,-1]]},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){for(var t=this,e=[],n=this.state.maxColor;n>0;--n)e.push(n),e.push(n);this.createGrid(5);for(var i=[],a=function(e){i.push(Object(c.jsxs)(j.a,{variant:"secondary",onClick:function(){return t.changeGridSize(e)},children:[e,"x",e]},e))},o=5;o<=15;o++)a(o);this.setState({navButtons:i})}},{key:"onClick",value:function(t,e){var n=this.state,c=n.nodes,i=n.endpointStack;if(!n.disabled){var a=c[t][e].n;if(0!==i.length||0!==a){var o=!1;0===a?(a=i.pop(),o=!0):(i.push(a),a=0),c[t][e].n=a,c[t][e].isEndpoint=o,this.setState({nodes:c,endpointStack:i})}else this.appendAlert("No more colors!","danger")}}},{key:"changeGridSize",value:function(t){this.createGrid(t),this.refreshEndpointStack()}},{key:"refreshEndpointStack",value:function(){this.setState({endpointStack:[15,15,14,14,13,13,12,12,11,11,10,10,9,9,8,8,7,7,6,6,5,5,4,4,3,3,2,2,1,1]})}},{key:"refreshButtonOnClick",value:function(){var t=this.state.length;this.createGrid(t),this.refreshEndpointStack(),this.removeAlert(),p()("#solvebtn").prop({disabled:!1}),p()("#clear").prop({class:"btn btn-secondary"}),this.setState({disabled:!1})}},{key:"constructGrid",value:function(t,e){for(var n=0;n<e;n++){for(var c=[],i=0;i<e;i++){var a={col:i,row:n,n:0,isEndpoint:!1,direction:-1,endpointDirection:-1,gridFade:""};c.push(a)}t.push(c)}}},{key:"createGrid",value:function(t){var e=[];this.constructGrid(e,t),this.setState({nodes:e,length:t})}},{key:"setGrid",value:function(t){t!==this.state.length&&this.createGrid(t)}},{key:"appendAlert",value:function(t,e){var n=this,i=Object(c.jsx)(b.a,{variant:e,onClose:function(){return n.removeAlert()},dismissible:!0,children:Object(c.jsx)("h6",{children:t})});this.setState({alert:i})}},{key:"removeAlert",value:function(){this.setState({alert:undefined})}},{key:"getCell",value:function(t,e,n,c,i){return t*c*i+e*i+n+1}},{key:"getDirection",value:function(t,e,n,c,i){return i*i*c+t*i*6+6*e+n+1}},{key:"getDirectionType",value:function(t,e,n,c,i){for(var a=0;a<6;a++)if(i.includes(this.getDirection(t,e,a,n,c)))return a;return-1}},{key:"checkWithinBounds",value:function(t,e,n){return t>=0&&t<n&&e>=0&&e<n}},{key:"includes",value:function(t,e,n){var c=!1;return t.forEach((function(t){var i=Object(s.a)(t,2),a=i[0],o=i[1];e===a&&n===o&&(c=!0)})),c}},{key:"findAdjacentNeighbour",value:function(t,e,n,c,i,a){var o=this,r=this.state,h=r.diff,l=r.length,d=void 0;return h.forEach((function(r){var h=Object(s.a)(r,2),u=h[0],f=h[1];!o.includes(a,t+u,e+f)&&o.checkWithinBounds(t+u,e+f,l)&&i.includes(o.getCell(t+u,e+f,n-1,l,c))&&(d=[t+u,e+f,n])})),d}},{key:"displaySolution",value:function(t,e,n){var c=this;if("UNSAT"!==t){this.setState({disabled:!0});var i=this.state,a=i.length,o=i.diff,r=i.nodes,h=[],l=[];n.forEach((function(n){var i=Object(s.a)(n,3),h=i[0],d=i[1],u=i[2];l.push([h,d]),o.forEach((function(n,i){var o=Object(s.a)(n,2),l=o[0],f=o[1];c.checkWithinBounds(h+l,d+f,a)&&t.includes(c.getCell(h+l,d+f,u-1,a,e))&&(r[h][d].endpointDirection=i,r[h][d].gridFade="animationgridfade")}))})),n.forEach((function(n){var i=Object(s.a)(n,3),a=i[0],o=i[1],r=i[2];h.push(c.findAdjacentNeighbour(a,o,r,e,t,l))}));for(var d=1,u=0;0!==h.length;){var f=h.shift();if(void 0!==f){var p=Object(s.a)(f,3),v=p[0],j=p[1],b=p[2];l.push([v,j]),r[v][j].n=b,r[v][j].direction=this.getDirectionType(v,j,e,a,t,n),r[v][j].gridFade="animationgridfade",r[v][j].animationTime=d,++u===a&&(u=0,d+=1),h.push(this.findAdjacentNeighbour(v,j,b,e,t,l))}}this.setState({nodes:r})}else this.appendAlert("No solution found!","warning")}},{key:"solve",value:function(){var t=this,e=this.state,n=e.endpointStack,c=e.nodes,i=e.maxEndpoint,a=n.length;if(a%2===0&&a!==i){p()("#solvebtn").prop({disabled:!0}),p()("#clear").prop({class:"btn btn-danger"});var o=[];c.forEach((function(t){t.forEach((function(t){if(0!==t.n){var e=t.row,n=t.col,c=t.n;o.push([e,n,c])}}))}));var r={length:c.length,colors:(i-a)/2,nodes:o};console.log(r),fetch("https://flowsolver.azurewebsites.net/api/solve",{method:"POST",body:JSON.stringify(r),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){return t.json()})).then((function(e){return t.displaySolution(e.nodes,r.colors,o)}))}else this.appendAlert("Invalid Endpoint Configuration!","danger")}},{key:"render",value:function(){var t=this,e=this.state,n=e.nodes,i=e.length,a=e.navButtons,o=e.alert;return Object(c.jsxs)("div",{children:[o,Object(c.jsx)("div",{className:"nav",children:Object(c.jsxs)(g.a,{className:"btn",children:[a,Object(c.jsx)(j.a,{id:"clear",variant:"secondary",onClick:function(){return t.refreshButtonOnClick()},children:"Clear"})]})}),Object(c.jsx)("div",{children:n.map((function(e,n){return Object(c.jsx)("div",{children:e.map((function(e,a){var o=e.n,r=e.isEndpoint,s=e.direction,h=e.endpointDirection,l=e.gridFade,d=e.animationTime;return Object(c.jsx)(v,{row:n,col:a,isEndpoint:r,direction:s,endpointDirection:h,size:i,gridFade:l,animationTime:d,n:o,onClick:function(e,n){return t.onClick(e,n)}},a)}))},n)}))}),Object(c.jsx)(j.a,{id:"solvebtn",className:"btn",variant:"primary",onClick:function(){return t.solve()},children:"Solve!"})]})}}]),n}(i.Component);var y=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(k,{})})},x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),c(t),i(t),a(t),o(t)}))};n(34),n(35);r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root")),x()}},[[36,1,2]]]);
//# sourceMappingURL=main.c617fc10.chunk.js.map